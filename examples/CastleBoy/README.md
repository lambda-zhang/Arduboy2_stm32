# CastleBoy

Castlevania-like game for the Arduboy.

A game by @ZappedCow and @Increment.

.arduboy file: [castleboy_1_0.arduboy](https://www.dropbox.com/s/6uvmia9cvo1sanm/castleboy_1_0.arduboy?dl=0)

## Hacking the game

### How to regenerate assets

Assets (sprites + maps) can be generated by executing the gen_assets.bat script. Bitmap generation uses img2ard Ruby script made by yyyc514 and requires the chunky_png gem.

Here is a small guide about how to install Ruby and the chunky_ong gem on Windows:

1. Download the [Ruby installer](https://rubyinstaller.org/)
2. In the installer check 'Add Ruby executables to your PATH' before clicking 'Install'
3. Once ruby is installed open a shell (<windows key>cmd<enter>) and type the following commands to install the chunky_png gem:
```
gem sources -a http://rubygems.org/
gem install chunky_png
gem sources -r http://rubygems.org/
```
This is unfortunatly needed to go around this problem https://gist.github.com/luislavena/f064211759ee0f806c88

### Map editing

Maps can be edited with [TilEd](http://www.mapeditor.org/). Each map has two layers: main and background. All entities and solide tiles must be put on the main layer. Background tiles such as grave and chains should be put on the background layer.

**When loading a map the default selected layer is the background layer (first layer). Don't forget to select the main layer before adding solid tiles and entities!**

### Cheating

Cheating is very useful for debugging. Cheating can be enabled by uncommenting line 15 of Global.h (#define DEBUG_CHEAT). When cheat mode is enabled it is possible to:
* press A+B+UP to go to the next stage
* press A+B+DOWN to reset the current stage
* press A+B+LEFT to load the test stage (map/stage_test.json).
